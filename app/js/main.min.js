$(function(){var t,e=$(".sc-block"),a=$(".table-of-contents"),o=$(".table-of-contents ul"),i=parseInt(a.css("top")),r=a.offset().top,s=a.outerHeight();String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},e.each(function(){var t=$(this)[0].id,e=t.replace(/_/g," ").capitalize();o.append("<li><a href='#"+t+"'>"+e+"</a></li>")});var n=o.find("a"),l=n.map(function(){var t=$($(this).attr("href"));if(t.length)return t});n.click(function(t){var e=$(this).attr("href"),a="#"===e?0:$(e).offset().top-i;$("html, body").stop().animate({scrollTop:a},1e3),t.preventDefault()}),$("body").scrollTop()>=r-i?a.addClass("fixed"):a.removeClass("fixed"),$(window).scroll(function(){var e=$("body").scrollTop();e>=r-i?a.addClass("fixed"):a.removeClass("fixed");var o=$(this).scrollTop()+s,f=l.map(function(){if($(this).offset().top+s-(i+45)<o)return this});f=f[f.length-1];var c=f&&f.length?f[0].id:"";t!==c&&(t=c,n.parent().removeClass("active").end().filter("[href='#"+c+"']").parent().addClass("active"))})});